!function(a){function b(){return a.x.apply(a,arguments),b}function c(c,d){return a.x.cache(c.__name__,d).x(c),b}"use strict",a.x.cache("Object",function(b){function c(a,c){return a.length==c.length&&Array.coerce(a).every(function(a,d){return b.equalTo(c[d],a)})}function d(c,d){if(a.len(c)!==a.len(d)||b.ownLen(c)!==b.ownLen(d))return!1;for(var e in d)if(a.has(c,e)!==a.has(d,e)||!b.equalTo(c[e],d[e]))return!1;return!0}a.defs(b,{aggregate:function(a,c,d,e){return e||(e=a),b.keys(a).reduce(function(b,c,f){return d.call(e,b,a[c],c,a,f)},c)},clear:function(a){return b.keys(a).forEach(function(b){delete a[b]},a),a},equalTo:function(b,e){switch(a.nativeType(b)){case"array":return Array.isArray(e)?c(b,e):!1;case"object":return a.nativeType(e)=="object"?d(b,e):!1;case"date":return+b==+e}return b==e},ownKeys:function(a){return b.getOwnPropertyNames(a)},ownLen:function(a){return b.ownKeys(a).length}},"w")}),a.x.cache("Function",function(b){var c=/^[\s\(]*function[^\(]*\(([^\)]*)\)/,d=/\s*,\s*/;a.def(b,"coerce",a.describe(function(c){return a.nativeType(c)=="function"?c:function(){return c}},"w")),a.defs(b.prototype,{params:{get:function(){var a=String(this).match(c)[1].trim().split(d);return a.length==1&&!a[0]?[]:a}},attempt:function(a){var b=Array.coerce(arguments,1),c=this;return function(){try{return c.apply(a||this,b)}catch(e){return e}}()},bake:function(){var b="baked",c=this;return c[b]||!a.def(c,b,a.describe(function(){return c.apply(this,[this].concat(Array.coerce(arguments)))}.mimic(c),"w"))||c[b]},defer:a.ENV=="commonjs"?function(a){return process.nextTick(this.bind.apply(this,[a].concat(Array.coerce(arguments,1))))}:function(){return this.delay.apply(this,[1].concat(Array.coerce(arguments)))},delay:function(b,c){function f(){return f.stop(),e.apply(c||this,d)}var d=Array.coerce(arguments,2),e=this;return a.copy(f,{stop:function(){return clearTimeout(this.timeoutId),delete this.timeoutId,e},timeoutId:setTimeout(f,b)})},memoize:function(b){function d(){var a=Array.coerce(arguments),d=a.toString();return d in b?b[d]:b[d]=c.apply(this,a)}var c=this;return a.nativeType(b)=="object"||(b=a.obj()),d.unmemoize=function(){return c},d},stop:function(){return this},unmemoize:function(){return this},wrap:function(a){var b=Array.coerce(arguments,1),c=this;return function(){return a.apply(this,[c.bind(this)].concat(b).concat(Array.coerce(arguments)))}.mimic(a)}},"w")}),a.x.cache("Array",function(b){function c(a,b){return a(b)?0:1}function d(a,b){return a.test(b)?0:1}function e(a,b){return Object.value(b,a)||1}function f(a){return a?a:null}function g(a){return a[0]}function h(a){return[a,typeof this=="function"?this(a):Object.value(a,this)]}var i=b.prototype,j={desc:function(a,b){return a[1]==b[1]?0:a[1]<b[1]?1:-1},asc:function(a,b){return a[1]==b[1]?0:a[1]>b[1]?1:-1}};j[String(!0)]=j[1]=j.asc,j[String(!1)]=j[0]=j.desc,a.def(b,"sortFns",a.describe({value:j},"w")),a.defs(b.prototype,{aggregate:function(a,b,c){return i.reduce.call(this,function(a,d,e,f){return b.call(c||d,a,d,e,f)},a)},associate:function(b,c,d){return c||(c=a),d||(d=this),i.reduce.call(this,function(a,e,f){return a[b[f]]=c.call(d,e,f,this),a},a.obj())},clear:function(){return this.length=0,this},clone:function(){return i.slice.call(this)},compact:function(b){return i.mapc.call(this,b===!0?f:a)},contains:function(a){return!!~i.indexOf.call(this,a)},each:function(a,b){return i.forEach.call(this,a,b||this),this},flatten:function(c){if(a.type(c)=="number"){if(!(c>0))return this;--c}return i.aggregate.call(this,[],function(a,d,e){return b.isArray(d)?a.splice.apply(a,[a.length,0].concat(d.flatten(c))):a.push(d),a},this)},grep:function(b,c,d){var e=this;return c||(c=a),d||(d=e),a.nativeType(b)!="string"||(b=new RegExp(b.escapeRE(),"g")),i.aggregate.call(e,[],function(a,f,g){return!b.test(f)||a.push(c.call(d,f,g,e)),a})},groupBy:function(b,f,g){f||(f=a);var h=this,j,k,l=a.obj();switch(a.type(b)){case"function":k=c;break;case"regexp":k=d;break;case"number":case"string":k=e,j=i.pluck.call(h,b,!0);break;default:throw new TypeError("Array.prototype.groupBy can only match based on a Function, RegExp or String.")}return(j||[0,1]).forEach(function(a){l[a]=[]}),i.aggregate.call(h,l,function(a,c,d){return a[k(b,c)].push(f.call(this,c,d,h)),a},g||h)},include:function(a){return i.contains.call(this,a)?!1:!this.push(a)||!0},invoke:function(a){var c=b.coerce(arguments,1);return i.map.call(this,function(b,d){return b[a].apply(b,c)})},invokec:function(c){var d=b.coerce(arguments,1);return i.mapc.call(this,function(b,e){return a.nativeType(b[c])=="function"?b[c].apply(b,d):null})},item:function(a){return this[a<0?this.length+a:a]},last:function(){return this[this.length-1]},mapc:function(b,c){return c||(c=this),i.reduce.call(this,function(d,e,f,g){return!a.exists(e=b.call(c,e,f,g))||d.push(e),d},[])},pluck:function(a,b){return i[b===!0?"mapc":"map"].call(this,function(b){return Object.value(b,a)})},remove:function(){var a=b.coerce(arguments),c,d=[],e;while(e=a.shift())!~(c=i.indexOf.call(this,e))||d.push(i.splice.call(this,c,1)[0]);return d},sortBy:function(b,c){return i.map.call(this,h,b).sort(a.nativeType(c)=="function"?c:j[String(c).toLowerCase()]||j.asc).map(g)},tuck:function(a,c){var d=b.isArray(c);return i.each.call(this,function(b,e){b[a]=d?c[e]:c})},uniq:function(){return i.reduce.call(this,function(a,b){return a.contains(b)||a.push(b),a},[])},without:function(){var a=i.clone.call(this);return a.remove.apply(a,arguments),a},zip:function(){var a=b.coerce(arguments);return a.unshift(this),i.map.call(this,function(b,c){return a.pluck(c)})}},"w")}),a.x.cache("Number",function(b){var c=Math.abs,d=9007199254740992,e=Math.floor;a.defs(b,{isInteger:function(b){return a.type(b)=="number"&&isFinite(b)&&b>-d&&b<d&&e(b)===b},toInteger:function(a){return a=+a,isNaN(a)?0:a===0||!isFinite(a)?a:(a<0?-1:1)*c(e(a))}},"w"),a.defs(b.prototype,{pad:function(a,b){var c=this.toString(b||10);return"0".times(a-c.length)+c},times:function(b,c){return a.range(0,this).forEach(b,c||a.global),this},toHex:function(){return this.pad(2,16)}},"w")}),a.x.cache("String",function(b){function l(a,b){return b+b.toLowerCase()}function m(a){a=a.trim();var b=a.charAt(0),c=a.charAt(1),d=b.toLowerCase()==b&&c!=" "&&c.toUpperCase()==c?2:1,e=a.substring(d).replace(g,l).split(k);return e[0]=a.substring(0,d)+e[0],e}var c=a.obj(),d=a.obj(),e=/([-\*\+\?\.\|\^\$\/\\\(\)[\]\{\}])/g,f="\\$1",g=/([A-Z])/g,h=/\$?\{([^\}]+)\}/g,i=/#?(\w{1,6})/,j=/(\d{1,3})/g,k=/[\sA-Z_-]+/g;a.defs(b.prototype,{blank:function(){return!!this.trim().empty()},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},clean:function(a){return a||(a=" "),a=c[a]||(c[a]={re:new RegExp("("+a+"){1,}","g"),fill:a}),this.split(a.re).filter(function(b){return!b.blank()&&b!=a.fill}).join(a.fill)},contains:function(a){return!!~this.indexOf(a)},empty:function(){return b(this)===""},endsWith:function(a){return this.length&&this.lastIndexOf(a)==this.length-a.length},format:function(){return this.gsub.call(this,Array.coerce(arguments))},gsub:function(a,b){return this.replace(b||h,function(b,c){return a[c]||""})},hyphenate:function(){return m(this).join("-").toLowerCase()},includes:function(a){return this.toLowerCase().contains(b(a).toLowerCase())},parts:function(a){var b=Array.coerce(this.match(a));switch(b.length){case 1:if(b[0]===null||b[0]===this)return[];default:return b[0]!==this||b.shift(),b}},regexpEsc:function(){return this.replace(e,f)},sliceEvery:function(a){return a=parseInt(a,10),isNaN(a)||this.length<a||a==0?[b(this)]:this.match(d[a]||(d[a]=new RegExp("(.{1,"+a+"})","g")))},startsWith:function(a){return!this.indexOf(a)},times:function(a){return(new Array(Number.toInteger(a)+1)).join(this)},toCamelCase:function(){var a=m(this),b=[a.shift()];return a.reduce(function(a,b){return a.push(b.capitalize()),a},b).join("")},toHex:function(){function a(a){return parseInt(a,10).pad(2,16)}return function(){var b=this.match(j);return"#"+(b.length==1?a(b[0]).times(3):b.map(a).join(""))}}(),toJSON:function(){return JSON.parse(this)},toRGB:function(a){var b=this.match(i)[1],c=b.length,d;switch(c){case 6:break;case 3:b=this.times(2);break;case 2:b=this.times(3);break;default:b=c>6?b.substring(0,6):c==4?b+"00":b+"0"}return d=b.sliceEvery(2).map(function(a){return parseInt(a,16)}),a===!0?d:"rgb("+d.join(", ")+")"},truncate:function(c,d){return c||(c=50),a.nativeType(d)=="string"||(d="..."),this.length<c?b(this):this.substring(0,c).trimRight()+d},underscore:function(){return m(this).join("_").toLowerCase()}},"w")}),a.defs(b,{m8:{value:a},x:c},"r"),a.ENV!="commonjs"?a.def(a.global,"n8iv",a.describe({value:b},"r")):module.exports=b,a.x(Object,Array,Function,Number,String)}(typeof m8!="undefined"?m8:typeof require!="undefined"?require("m8"):null)